#!/usr/bin/env python3
"""
简体中文到繁体中文翻译器
将所有MD报告文件翻译成繁体中文
"""

import os
import re
from pathlib import Path

# 简体到繁体的字符映射表
SIMPLIFIED_TO_TRADITIONAL = {
    # 常用字符映射
    '个': '個', '这': '這', '那': '那', '里': '裡', '么': '麼', '为': '為', '与': '與',
    '从': '從', '来': '來', '对': '對', '关': '關', '会': '會', '说': '說', '让': '讓',
    '过': '過', '还': '還', '没': '沒', '有': '有', '在': '在', '了': '了', '的': '的',
    '是': '是', '不': '不', '一': '一', '人': '人', '我': '我', '他': '他', '她': '她',
    '它': '它', '们': '們', '你': '你', '您': '您', '我们': '我們', '他们': '他們',
    
    # 技术术语
    '计算': '計算', '算法': '演算法', '数据': '資料', '数据库': '資料庫', '网络': '網路',
    '软件': '軟體', '硬件': '硬體', '程序': '程式', '编程': '程式設計', '代码': '程式碼',
    '函数': '函式', '变量': '變數', '参数': '參數', '返回': '回傳', '输入': '輸入',
    '输出': '輸出', '处理': '處理', '分析': '分析', '结果': '結果', '方法': '方法',
    '系统': '系統', '模型': '模型', '框架': '框架', '结构': '結構', '功能': '功能',
    '性能': '效能', '优化': '最佳化', '实现': '實現', '应用': '應用', '开发': '開發',
    '设计': '設計', '测试': '測試', '验证': '驗證', '评估': '評估', '比较': '比較',
    
    # 量子相关术语
    '量子': '量子', '电路': '電路', '比特': '位元', '状态': '狀態', '测量': '測量',
    '叠加': '疊加', '纠缠': '糾纏', '相干': '相干', '干涉': '干涉', '概率': '機率',
    '矩阵': '矩陣', '向量': '向量', '熵': '熵', '信息': '資訊', '编码': '編碼',
    
    # 语言学术语
    '语言': '語言', '语法': '語法', '语义': '語義', '词汇': '詞彙', '词性': '詞性',
    '句法': '句法', '语音': '語音', '语调': '語調', '语境': '語境', '语料': '語料',
    '分词': '分詞', '标注': '標註', '识别': '識別', '理解': '理解', '生成': '生成',
    
    # 新闻媒体术语
    '新闻': '新聞', '报道': '報導', '记者': '記者', '编辑': '編輯', '媒体': '媒體',
    '标题': '標題', '内容': '內容', '文章': '文章', '报告': '報告', '评论': '評論',
    '观点': '觀點', '观察': '觀察', '发现': '發現', '研究': '研究', '调查': '調查',
    
    # 数学统计术语
    '统计': '統計', '概率': '機率', '分布': '分佈', '平均': '平均', '标准': '標準',
    '差异': '差異', '显著': '顯著', '相关': '相關', '回归': '迴歸', '检验': '檢驗',
    '假设': '假設', '样本': '樣本', '总体': '總體', '估计': '估計', '预测': '預測',
    
    # 学术术语
    '学术': '學術', '论文': '論文', '研究': '研究', '理论': '理論', '实验': '實驗',
    '证明': '證明', '假设': '假設', '结论': '結論', '讨论': '討論', '总结': '總結',
    '摘要': '摘要', '关键': '關鍵', '重要': '重要', '主要': '主要', '基本': '基本',
    
    # 其他常用词
    '问题': '問題', '解决': '解決', '提供': '提供', '获得': '獲得', '达到': '達到',
    '实际': '實際', '具体': '具體', '详细': '詳細', '完整': '完整', '准确': '準確',
    '清楚': '清楚', '明确': '明確', '简单': '簡單', '复杂': '複雜', '困难': '困難',
    '容易': '容易', '可能': '可能', '必要': '必要', '重要': '重要', '特别': '特別',
    '尤其': '尤其', '特殊': '特殊', '一般': '一般', '通常': '通常', '经常': '經常',
    '总是': '總是', '从来': '從來', '已经': '已經', '正在': '正在', '将要': '將要',
    '可以': '可以', '应该': '應該', '必须': '必須', '需要': '需要', '希望': '希望',
    '想要': '想要', '愿意': '願意', '决定': '決定', '选择': '選擇', '考虑': '考慮',
    
    # 专业术语补充
    '机器': '機器', '学习': '學習', '智能': '智慧', '人工': '人工', '自然': '自然',
    '处理': '處理', '技术': '技術', '工程': '工程', '科学': '科學', '数学': '數學',
    '物理': '物理', '化学': '化學', '生物': '生物', '计算机': '電腦', '电脑': '電腦',
    '网络': '網路', '互联网': '網際網路', '数字': '數位', '电子': '電子', '信号': '訊號',
    
    # 时间相关
    '时间': '時間', '现在': '現在', '过去': '過去', '将来': '將來', '未来': '未來',
    '今天': '今天', '昨天': '昨天', '明天': '明天', '今年': '今年', '去年': '去年',
    '明年': '明年', '最近': '最近', '以前': '以前', '以后': '以後', '当时': '當時',
    
    # 地点相关
    '地方': '地方', '位置': '位置', '区域': '區域', '范围': '範圍', '空间': '空間',
    '环境': '環境', '条件': '條件', '情况': '情況', '状况': '狀況', '现象': '現象',
    
    # 动作相关
    '进行': '進行', '执行': '執行', '运行': '運行', '操作': '操作', '控制': '控制',
    '管理': '管理', '维护': '維護', '保护': '保護', '改进': '改進', '提高': '提高',
    '增加': '增加', '减少': '減少', '变化': '變化', '改变': '改變', '转换': '轉換',
    
    # 形容词
    '好的': '好的', '坏的': '壞的', '大的': '大的', '小的': '小的', '长的': '長的',
    '短的': '短的', '高的': '高的', '低的': '低的', '快的': '快的', '慢的': '慢的',
    '新的': '新的', '旧的': '舊的', '多的': '多的', '少的': '少的', '强的': '強的',
    '弱的': '弱的', '热的': '熱的', '冷的': '冷的', '干的': '乾的', '湿的': '濕的',
}

def translate_text(text):
    """将简体中文文本翻译成繁体中文"""
    # 按照词长度排序，优先替换长词
    sorted_terms = sorted(SIMPLIFIED_TO_TRADITIONAL.items(), key=lambda x: len(x[0]), reverse=True)
    
    result = text
    for simplified, traditional in sorted_terms:
        result = result.replace(simplified, traditional)
    
    return result

def translate_markdown_file(file_path):
    """翻译单个markdown文件"""
    print(f"📝 翻譯文件: {file_path}")
    
    try:
        # 读取原文件
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # 翻译内容
        translated_content = translate_text(content)
        
        # 写入翻译后的内容
        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(translated_content)
        
        print(f"✅ 翻譯完成: {file_path}")
        
    except Exception as e:
        print(f"❌ 翻譯失敗: {file_path} - {str(e)}")

def main():
    """主函数"""
    print("🚀 開始將MD文件翻譯成繁體中文...")
    
    # 需要翻译的目录
    directories = [
        '/Users/junghualiu/case/a2a/qnlp/discocat_qnlp_analysis/analysis_reports',
        '/Users/junghualiu/case/a2a/qnlp/discocat_qnlp_analysis/20250927-image'
    ]
    
    translated_files = []
    
    for directory in directories:
        print(f"\n📂 處理目錄: {directory}")
        
        # 查找所有MD文件
        for file_path in Path(directory).glob('*.md'):
            translate_markdown_file(str(file_path))
            translated_files.append(str(file_path))
    
    print(f"\n🎉 翻譯完成！共處理 {len(translated_files)} 個文件：")
    for file_path in translated_files:
        print(f"  ✅ {Path(file_path).name}")

if __name__ == "__main__":
    main()
